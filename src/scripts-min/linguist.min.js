var LinguistLoader=function(){"use strict";const b="blob/";var f=null,g="",h=function(){var k=function(){};return k.prototype.load=function(m,n){var p=new XMLHttpRequest;p.open("GET",m,!0),p.onload=function(){try{if(404===p.status)return;var q=jsyaml.load(p.responseText);n(q)}catch(r){console.error(r)}},p.setRequestHeader("Content-Type","*/*"),p.send()},k}(),j=function(){var k=function(){};return k.prototype.tryMatchUrlExtension=function(m,n,p){for(var t,q=Object.keys(n),r=0,s=!0,u=function(w){return!m.endsWith(w)||(p(t),s=!1,!1)},v=null;(v=q[r++])&&s;)t=n[v],t.extensions.every(u)},k.prototype.isGithub=function(m){return m.hostname==="github.com"&&m.href.includes(b)},k.prototype.getPossibleFilepath=function(m){var n=m.pathname.split(b);return"https://raw.githubusercontent.com"+n[0]+n[1].split("/")[0]+"/"+".linguist.yml"},k.prototype.refresh=function(m,n){var p=m.href;p!==g&&this.isGithub(m)&&(g=p,null==f&&(f={path:this.getPossibleFilepath(m)}),setTimeout(function(){var q=new h;q.load(f.path,function(r){this.tryMatchUrlExtension(g,r,function(s){var t=document.getElementsByClassName("blob-wrapper")[0].getElementsByTagName("table")[0];new LinguistHighlighter.Highlighter(s).draw(t),n&&n(s,t)})}.bind(this))}.bind(this),100))},k}();return{Utilities:j,DownloadHelper:h}}();exports.LinguistLoader=LinguistLoader;var LinguistHighlighter=function(){"use strict";var c=Object.prototype;Object.defineProperty(c,"has",{get:function(){return function(h){return h.split(".").reduce(function(j,k){return j===void 0||typeof j===void 0||null===j?j:j[k]},this)}},configurable:!1});var d=function(){return function(g,h,j,k){this.value=g,this.pos=h,this.size=j,this.color=k}}(),f=function(){var g=function(h){this.langObj=h,this.langObj&&void 0===this.langObj.has("default.color")&&(this.langObj.default={color:"#24292e"}),this.isMultilineComment=!1};return g.prototype.draw=function(h){for(var m,j=h.querySelectorAll("tbody td"),k=0;k<j.length;k++)if(m=j[k],-1!==m.id.indexOf("LC")){var n=this.lexer(m.innerText);m.innerHTML=this.paint(n,m.innerText)}},g.prototype.paint=function(h,j){if(0===h.length)return this.getSpan(j,this.langObj.default.color);for(var k="",m=0,n=0;m<j.length;)if(n<h.length&&m<h[n].pos)k+=this.getSpan(j.substring(m,h[n].pos),this.langObj.default.color),m=h[n].pos;else if(n===h.length)k+=this.getSpan(j.substring(m,j.length),this.langObj.default.color),m=j.length;else{var p=h[n].color;k+=this.openSpan(p),k+=h[n].value,m+=h[n].value.length,n++;for(var q=!0,r=!0;q||r;)for(p===this.langObj.default.color&&n<h.length&&m<h[n].pos?(k+=j.substring(m,h[n].pos),m=h[n].pos,q=!0):q=!1,n<h.length&&m===h[n].pos&&h[n].color===p?(k+=h[n].value,m+=h[n].value.length,n++,r=!0):r=!1;" "===j[m];)k+=" ",m++;k+=this.closeSpan()}return k},g.prototype.openSpan=function(h){return"<span style=\"color:"+h+";\">"},g.prototype.closeSpan=function(){return"</span>"},g.prototype.getSpan=function(h,j){return this.openSpan(j)+h+this.closeSpan()},g.prototype.isId=function(h,j){return"a"<=h&&"z">=h||"A"<=h&&"Z">=h||"_"===h||!j&&this.isNumber(h)},g.prototype.isNumber=function(h){return"0"<=h&&"9">=h},g.prototype.isLiteralString=function(h){return"\""===h||"'"===h},g.prototype.startsWith=function(h,j,k){return void 0!==h&&j.substring(k,j.length).startsWith(h)},g.prototype.matchRegex=function(h,j,k,m){h.startsWith("^")||(h="^"+h),void 0===j&&(j="");var n=new RegExp(h,j);return k.substring(m,k.length).match(n)},g.prototype.getId=function(h,j,k){var m=j,n=h[j];for(j++;j<h.length&&this.isId(h[j],!1);)n+=h[j],j++;k(n,m,this.langObj)},g.prototype.getNumber=function(h,j,k){var m=j,n=h[j];j++;var p=this.getNextInt(h,j);n+=p.value,j=p.idx,j+1<h.length&&"."===h[j]&&this.isNumber(h[j+1])&&(n+=h[j],n+=h[j+1],j+=2,p=this.getNextInt(h,j),n+=p.value,j=p.idx),j<h.length&&"e"===h[j]&&(j+1<h.length&&this.isNumber(h[j+1])?(n+=h[j],n+=h[j+1],j+=2,p=this.getNextInt(h,j),n+=p.value,j=p.idx):j+2<h.length&&("+"===h[j+1]||"-"===h[j+1])&&this.isNumber(h[j+2])&&(n+=h[j],n+=h[j+1],n+=h[j+2],j+=3,p=this.getNextInt(h,j),n+=p.value,j=p.idx)),k(n,m,this.langObj)},g.prototype.getNextInt=function(h,j){for(var k="";j<h.length&&this.isNumber(h[j]);)k+=h[j],j++;return{value:k,idx:j}},g.prototype.getLiteralString=function(h,j,k){for(var m=j,n=h[j++];j<h.length&&h[j]!==h[m];)n+=h[j++];return!!h[j]&&void(n+=h[j],k(n,m,this.langObj))},g.prototype.getMultilineComment=function(h,j,k,m){for(var n=k,p=!0,q="";k<j.length&&!j.substring(k,j.length).startsWith(h);)q+=j[k],k++;k<j.length&&(q+=h,p=!1),m(q,n,p,this)},g.prototype.lexer=function(h){for(var j=this.langObj.has("comment.begin_multiline"),k=this.langObj.has("comment.end_multiline"),m=this.langObj.has("comment.single_line"),n=[],p=0;p<h.length;)if(" "===h[p]||"\t"===h[p]||"\n"===h[p]){p++;continue}else if(this.isMultilineComment||this.startsWith(j,h,p))this.isMultilineComment=!0,this.getMultilineComment(k,h,p,function(u,v,w,y){y.isMultilineComment=w;var z=y.langObj.default.color;void 0!==y.langObj.has("comment.color")&&(z=y.langObj.comment.color),n.push(new d(u,v,u.length,z)),p+=u.length});else if(this.startsWith(m,h,p)){var q=h.substring(p,h.length),r=this.langObj.default.color;void 0!==this.langObj.has("comment.color")&&(r=this.langObj.comment.color),n.push(new d(q,p,q.length,r)),p+=q.length}else if(this.isId(h[p],!0))this.getId(h,p,function(u,v,w){var y=w.default.color,z=!0;w.group.every(function(A){return void 0!==A.keywords&&A.keywords.every(function(B){return B.valueOf()!==u.valueOf()||(y=A.color,z=!1,!1)}),z}),z&&void 0!==w.has("identifier.color")&&(y=w.identifier.color),n.push(new d(u,v,u.length,y)),p+=u.length});else if(this.isLiteralString(h[p])&&this.getLiteralString(h,p,function(u,v,w){var y=w.default.color;void 0!==w.has("string.color")&&(y=w.string.color),n.push(new d(u,v,u.length,y)),p+=u.length}));else if(this.isNumber(h[p]))this.getNumber(h,p,function(u,v,w){var y=w.default.color;void 0!==w.has("number.color")&&(y=w.number.color),n.push(new d(u,v,u.length,y)),p+=u.length});else{var s=!0,t=this;this.langObj.group.every(function(u){return void 0!==u.operators&&u.operators.every(function(v){return!t.startsWith(v,h,p)||(n.push(new d(v,p,v.length,u.color)),p+=v.length,s=!1,!1)}),s&&void 0!==u.regexes&&u.regexes.every(function(v){var w=t.matchRegex(v.regex,v.modifier,h,p);return null===w||(n.push(new d(w[0],p,w[0].length,u.color)),p+=w[0].length,s=!1,!1)}),s}),s&&p++}return n},g}();return{Highlighter:f,Token:d}}();exports.LinguistHighlighter=LinguistHighlighter;
