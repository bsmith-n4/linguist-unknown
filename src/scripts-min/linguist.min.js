var LinguistLoader=function(){const b="blob/";var f=null,g="",h=function(){var k=function(){};return k.prototype.load=function(m,n){var o=new XMLHttpRequest;o.open("GET",m,!0),o.onload=function(){try{if(404===o.status)return;var p=jsyaml.load(o.responseText);n(p)}catch(q){console.error(q)}},o.setRequestHeader("Content-Type","*/*"),o.send()},k}(),j=function(){var k=function(){};return k.prototype.tryMatchUrlExtension=function(m,n,o){for(var s,p=Object.keys(n),q=0,r=!0;(langKey=p[q++])&&r;)s=n[langKey],s.extensions.every(function(t){return!m.endsWith(t)||(o(s),r=!1,!1)})},k.prototype.isGithub=function(m){return m.hostname==="github.com"&&m.href.includes(b)},k.prototype.getPossibleFilepath=function(m){var n=m.pathname.split(b);return"https://raw.githubusercontent.com"+n[0]+n[1].split("/")[0]+"/"+".linguist.yml"},k.prototype.refresh=function(){var m=window.location.href;if(m!==g&&this.isGithub(window.location)){g=m,null==f&&(f={path:this.getPossibleFilepath(window.location)});var n=this;window.setTimeout(function(){var o=new h;o.load(f.path,function(p){n.tryMatchUrlExtension(g,p,function(q){new LinguistHighlighter.Highlighter(q).draw()})})},100)}},k}();return{Utilities:j}}();var LinguistHighlighter=function(){var a=function(){return function(d,f,g,h){this.value=d,this.pos=f,this.size=g,this.color=h}}(),b=function(){var c=function(d){this.langObj=d,this.isMultilineComment=!1};return c.prototype.draw=function(){for(var h,d=document.getElementsByClassName("blob-wrapper")[0].getElementsByTagName("table")[0],f=d.querySelectorAll("tbody td"),g=0;g<f.length;g++)if(h=f[g],-1!==h.id.indexOf("LC")){var j=this.lexer(h.innerHTML);h.innerHTML=this.paint(j,h.innerHTML)}},c.prototype.paint=function(d,f){if(0===d.length)return this.getSpan(f,this.langObj.default_color);for(var g="",h=0,j=0;h<f.length;)if(j<d.length&&h<d[j].pos)g+=this.getSpan(f.substring(h,d[j].pos),this.langObj.default_color),h=d[j].pos;else if(j===d.length)g+=this.getSpan(f.substring(h,f.length),this.langObj.default_color),h=f.length;else{var k=d[j].color;g+=this.openSpan(k),g+=d[j].value,h+=d[j].value.length,j++;for(var m=!0,n=!0;m||n;)k===this.langObj.default_color&&j<d.length&&h<d[j].pos?(g+=f.substring(h,d[j].pos),h=d[j].pos,m=!0):m=!1,j<d.length&&h===d[j].pos&&d[j].color===k?(g+=d[j].value,h+=d[j].value.length,j++,n=!0):n=!1;g+=this.closeSpan()}return g},c.prototype.openSpan=function(d){return"<span style=\"color:"+d+";\">"},c.prototype.closeSpan=function(){return"</span>"},c.prototype.getSpan=function(d,f){return this.openSpan(f)+d+this.closeSpan()},c.prototype.isId=function(d,f){return"a"<=d&&"z">=d||"A"<=d&&"Z">=d||"_"===d||!f&&this.isNumber(d)},c.prototype.isNumber=function(d){return"0"<=d&&"9">=d},c.prototype.isLiteralString=function(d){return"\""===d||"'"===d},c.prototype.startsWith=function(d,f,g){return void 0!==d&&f.substring(g,f.length).startsWith(d)},c.prototype.matchRegex=function(d,f,g,h){d.startsWith("^")||(d="^"+d),void 0===f&&(f="");var j=new RegExp(d,f);return g.substring(h,g.length).match(j)},c.prototype.getId=function(d,f,g){var h=f,j=d[f];for(f++;f<d.length&&this.isId(d[f],!1);)j+=d[f],f++;g(j,h,this.langObj)},c.prototype.getNumber=function(d,f,g){var h=d.substring(f,d.length).match(/^[-+]?[0-9]*.?[0-9]+/)[0];g(h,f,this.langObj)},c.prototype.getLiteralString=function(d,f,g){var h=f,j=d[f];do f++,j+=d[f];while(f<d.length&&d[f]!==d[h]);g(j,h,this.langObj)},c.prototype.getMultilineComment=function(d,f,g,h){for(var j=g,k=!0,m="";g<f.length&&!f.substring(g,f.length).startsWith(d);)m+=f[g],g++;g<f.length&&(m+=d,k=!1),h(m,j,k,this)},c.prototype.lexer=function(d){for(var f=[],g=0;g<d.length;)if(" "===d[g]||"\t"===d[g]||"\n"===d[g]){g++;continue}else if(this.isMultilineComment||this.startsWith(this.langObj.begin_multiline_comment,d,g))this.isMultilineComment=!0,this.getMultilineComment(this.langObj.end_multiline_comment,d,g,function(n,o,p,q){q.isMultilineComment=p;var r=q.langObj.default_color;void 0!==q.langObj.comment_color&&(r=q.langObj.comment_color),f.push(new a(n,o,n.length,r)),g+=n.length});else if(this.startsWith(this.langObj.single_line_comment,d,g)){var h=d.substring(g,d.length),j=this.langObj.default_color;void 0!==this.langObj.comment_color&&(j=this.langObj.comment_color),f.push(new a(h,g,h.length,j)),g+=h.length}else if(this.isId(d[g],!0))this.getId(d,g,function(n,o,p){var q=p.default_color,r=!0;p.grammar.every(function(s){return void 0!==s.keywords&&s.keywords.every(function(t){return t.valueOf()!==n.valueOf()||(q=s.color,r=!1,!1)}),r}),r&&void 0!==p.id_color&&(q=p.id_color),f.push(new a(n,o,n.length,q)),g+=n.length});else if(this.isLiteralString(d[g]))this.getLiteralString(d,g,function(n,o,p){var q=p.default_color;void 0!==p.string_color&&(q=p.string_color),f.push(new a(n,o,n.length,q)),g+=n.length});else if(this.isNumber(d[g]))this.getNumber(d,g,function(n,o,p){var q=p.default_color;void 0!==p.number_color&&(q=p.number_color),f.push(new a(n,o,n.length,q)),g+=n.length});else{var k=!0,m=this;this.langObj.grammar.every(function(n){return void 0!==n.operators&&n.operators.every(function(o){return!m.startsWith(o,d,g)||(f.push(new a(o,g,o.length,n.color)),g+=o.length,k=!1,!1)}),k&&void 0!==n.regexes&&n.regexes.every(function(o){var p=m.matchRegex(o.regex,o.modifier,d,g);return null===p||(f.push(new a(p[0],g,p[0].length,n.color)),g+=p[0].length,k=!1,!1)}),k}),k&&g++}return f},c}();return{Highlighter:b}}();document.addEventListener("DOMContentLoaded",function(){chrome.storage.sync.get("shouldWork",function(a){a.shouldWork&&(new LinguistLoader.Utilities().refresh(),document.body.addEventListener("DOMSubtreeModified",function(){new LinguistLoader.Utilities().refresh()},!1))})});

