var LinguistLoader=function(){"use strict";const b="blob/";var f=null,g="",h=function(){var k=function(){};return k.prototype.load=function(m,n){var p=new XMLHttpRequest;p.open("GET",m,!0),p.onload=function(){try{if(404===p.status)return;var q=jsyaml.load(p.responseText);n(q)}catch(r){console.error(r)}},p.setRequestHeader("Content-Type","*/*"),p.send()},k}(),j=function(){var k=function(){};return k.prototype.tryMatchUrlExtension=function(m,n,p){for(var t,q=Object.keys(n),r=0,s=!0,u=function(w){return!m.endsWith(w)||(p(t),s=!1,!1)},v=null;(v=q[r++])&&s;)t=n[v],t.extensions.every(u)},k.prototype.isGithub=function(m){return m.hostname==="github.com"&&m.href.includes(b)},k.prototype.getPossibleFilepath=function(m){var n=m.pathname.split(b);return"https://raw.githubusercontent.com"+n[0]+n[1].split("/")[0]+"/"+".linguist.yml"},k.prototype.refresh=function(m,n){var p=m.href;p!==g&&this.isGithub(m)&&(g=p,null==f&&(f={path:this.getPossibleFilepath(m)}),setTimeout(function(){var q=new h;q.load(f.path,function(r){this.tryMatchUrlExtension(g,r,function(s){var t=document.getElementsByClassName("blob-wrapper")[0].getElementsByTagName("table")[0];new LinguistHighlighter.Highlighter(s).draw(t),n&&n(s,t)})}.bind(this))}.bind(this),100))},k}();return{Utilities:j,DownloadHelper:h}}();exports.LinguistLoader=LinguistLoader;var LinguistHighlighter=function(){"use strict";var c=Object.prototype;Object.defineProperty(c,"valueForKeyPath",{get:function(){return function(h){return h.split(".").reduce(function(j,k){return j===void 0||typeof j===void 0||null===j?j:j[k]},this)}},configurable:!1});var d=function(){return function(g,h,j,k){this.value=g,this.pos=h,this.size=j,this.color=k}}(),f=function(){var g=function(h){this.langObj=h,this.langObj&&void 0===this.langObj.valueForKeyPath("default.color")&&(this.langObj.default={color:"#24292e"}),this.multilineObj={active:!1,begin_token:"",end_token:"",color:""}};return g.prototype.draw=function(h){for(var m,j=h.querySelectorAll("tbody td"),k=0;k<j.length;k++)if(m=j[k],-1!==m.id.indexOf("LC")){var n=this.lexer(m.innerText);m.innerHTML=this.paint(n,m.innerText)}},g.prototype.paint=function(h,j){if(0===h.length)return this.getSpan(j,this.langObj.default.color);for(var k="",m=0,n=0;m<j.length;)if(n<h.length&&m<h[n].pos)k+=this.getSpan(j.substring(m,h[n].pos),this.langObj.default.color),m=h[n].pos;else if(n===h.length)k+=this.getSpan(j.substring(m,j.length),this.langObj.default.color),m=j.length;else{var p=h[n].color;k+=this.openSpan(p),k+=h[n].value,m+=h[n].value.length,n++;for(var q=!0,r=!0;q||r;)for(p===this.langObj.default.color&&n<h.length&&m<h[n].pos?(k+=j.substring(m,h[n].pos),m=h[n].pos,q=!0):q=!1,n<h.length&&m===h[n].pos&&h[n].color===p?(k+=h[n].value,m+=h[n].value.length,n++,r=!0):r=!1;" "===j[m];)k+=" ",m++;k+=this.closeSpan()}return k},g.prototype.openSpan=function(h){return"<span style=\"color:"+h+";\">"},g.prototype.closeSpan=function(){return"</span>"},g.prototype.getSpan=function(h,j){return this.openSpan(j)+h+this.closeSpan()},g.prototype.isId=function(h,j){return"a"<=h&&"z">=h||"A"<=h&&"Z">=h||"_"===h||!j&&this.isNumber(h)},g.prototype.isNumber=function(h){return"0"<=h&&"9">=h},g.prototype.isLiteralString=function(h){return"\""===h||"'"===h},g.prototype.isMultiline=function(h,j){var k=this.langObj.valueForKeyPath("comment.begin_multiline"),m=this.langObj.valueForKeyPath("comment.end_multiline"),n=this.langObj.default.color;if(void 0!==k&&this.startsWith(k,h,j))return void 0!==this.langObj.valueForKeyPath("comment.color")&&(n=this.langObj.comment.color),void 0===m&&(m=""),this.multilineObj={active:!0,color:n,begin_token:k,end_token:m},!0;var p=!0,q=this;return this.langObj.group.every(function(r){return void 0!==r.multiline&&(void 0!==r.color&&(n=r.color),r.multiline.every(function(s){var t=s.valueForKeyPath("begin"),u=s.valueForKeyPath("end");return void 0===t||(q.startsWith(t,h,j)?(void 0===u&&(u=""),q.multilineObj={active:!0,color:n,begin_token:t,end_token:u},p=!1,!1):p)})),p}),!p},g.prototype.startsWith=function(h,j,k){return void 0!==h&&j.substring(k,j.length).startsWith(h)},g.prototype.matchRegex=function(h,j,k,m){if(void 0===h)return null;h.startsWith("^")||(h="^"+h),void 0===j&&(j="");var n=new RegExp(h,j);return k.substring(m,k.length).match(n)},g.prototype.getId=function(h,j,k){var m=j,n=h[j];for(j++;j<h.length&&this.isId(h[j],!1);)n+=h[j],j++;k(n,m,this.langObj)},g.prototype.getNumber=function(h,j,k){var m=j,n=h[j];j++;var p=this.getNextInt(h,j);n+=p.value,j=p.idx,j+1<h.length&&"."===h[j]&&this.isNumber(h[j+1])&&(n+=h[j],n+=h[j+1],j+=2,p=this.getNextInt(h,j),n+=p.value,j=p.idx),j<h.length&&"e"===h[j]&&(j+1<h.length&&this.isNumber(h[j+1])?(n+=h[j],n+=h[j+1],j+=2,p=this.getNextInt(h,j),n+=p.value,j=p.idx):j+2<h.length&&("+"===h[j+1]||"-"===h[j+1])&&this.isNumber(h[j+2])&&(n+=h[j],n+=h[j+1],n+=h[j+2],j+=3,p=this.getNextInt(h,j),n+=p.value,j=p.idx)),k(n,m,this.langObj)},g.prototype.getNextInt=function(h,j){for(var k="";j<h.length&&this.isNumber(h[j]);)k+=h[j],j++;return{value:k,idx:j}},g.prototype.getLiteralString=function(h,j,k){for(var m=j,n=h[j++];j<h.length&&h[j]!==h[m];)n+=h[j++];return!!h[j]&&void(n+=h[j],k(n,m,this.langObj))},g.prototype.getMultiline=function(h,j,k,m){var n=k;k+=h.begin_token.length;for(var p=!0,q=j.substring(n,k);k<j.length&&!j.substring(k,j.length).startsWith(h.end_token);)q+=j[k],k++;k<j.length&&(q+=h.end_token,p=!1),m(q,n,p,this)},g.prototype.lexer=function(h){for(var j=this.langObj.valueForKeyPath("comment.single_line"),k=[],m=0;m<h.length;)if(" "===h[m]||"\t"===h[m]||"\n"===h[m]){m++;continue}else if(this.multilineObj.active||this.isMultiline(h,m))this.multilineObj.active=!0,this.getMultiline(this.multilineObj,h,m,function(s,t,u,v){v.multilineObj.active=u,v.multilineObj.begin_token="";var w=v.multilineObj.color;k.push(new d(s,t,s.length,w)),m+=s.length});else if(this.startsWith(j,h,m)){var n=h.substring(m,h.length),p=this.langObj.default.color;void 0!==this.langObj.valueForKeyPath("comment.color")&&(p=this.langObj.comment.color),k.push(new d(n,m,n.length,p)),m+=n.length}else if(this.isId(h[m],!0))this.getId(h,m,function(s,t,u){var v=u.default.color,w=!0;u.group.every(function(y){return void 0!==y.keywords&&y.keywords.every(function(z){return z.valueOf()!==s.valueOf()||(v=y.color,w=!1,!1)}),w}),w&&void 0!==u.valueForKeyPath("identifier.color")&&(v=u.identifier.color),k.push(new d(s,t,s.length,v)),m+=s.length});else if(this.isLiteralString(h[m])&&this.getLiteralString(h,m,function(s,t,u){var v=u.default.color;void 0!==u.valueForKeyPath("string.color")&&(v=u.string.color),k.push(new d(s,t,s.length,v)),m+=s.length}));else if(this.isNumber(h[m]))this.getNumber(h,m,function(s,t,u){var v=u.default.color;void 0!==u.valueForKeyPath("number.color")&&(v=u.number.color),k.push(new d(s,t,s.length,v)),m+=s.length});else{var q=!0,r=this;this.langObj.group.every(function(s){return void 0!==s.operators&&s.operators.every(function(t){return!r.startsWith(t,h,m)||(k.push(new d(t,m,t.length,s.color)),m+=t.length,q=!1,!1)}),q&&void 0!==s.regexes&&s.regexes.every(function(t){var u=r.matchRegex(t.regex,t.modifier,h,m);return null===u||(k.push(new d(u[0],m,u[0].length,s.color)),m+=u[0].length,q=!1,!1)}),q}),q&&m++}return k},g}();return{Highlighter:f,Token:d}}();exports.LinguistHighlighter=LinguistHighlighter;
