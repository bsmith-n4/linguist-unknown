var LinguistLoader=function(){"use strict";const b="blob/";var f=null,g="",h=function(){var k=function(){};return k.prototype.load=function(m,n){var o=new XMLHttpRequest;o.open("GET",m,!0),o.onload=function(){try{if(404===o.status)return;var p=jsyaml.load(o.responseText);n(p)}catch(q){console.error(q)}},o.setRequestHeader("Content-Type","*/*"),o.send()},k}(),j=function(){var k=function(){};return k.prototype.tryMatchUrlExtension=function(m,n,o){for(var s,p=Object.keys(n),q=0,r=!0,t=function(v){return!m.endsWith(v)||(o(s),r=!1,!1)},u=null;(u=p[q++])&&r;)s=n[u],s.extensions.every(t)},k.prototype.isGithub=function(m){return m.hostname==="github.com"&&m.href.includes(b)},k.prototype.getPossibleFilepath=function(m){var n=m.pathname.split(b);return"https://raw.githubusercontent.com"+n[0]+n[1].split("/")[0]+"/"+".linguist.yml"},k.prototype.refresh=function(m,n){var o=m.href;o!==g&&this.isGithub(m)&&(g=o,null==f&&(f={path:this.getPossibleFilepath(m)}),setTimeout(function(){var p=new h;p.load(f.path,function(q){this.tryMatchUrlExtension(g,q,function(r){var s=document.getElementsByClassName("blob-wrapper")[0].getElementsByTagName("table")[0];new LinguistHighlighter.Highlighter(r).draw(s),n&&n(r,s)})}.bind(this))}.bind(this),100))},k}();return{Utilities:j,DownloadHelper:h}}();exports.LinguistLoader=LinguistLoader;var LinguistHighlighter=function(){"use strict";var a=function(){return function(c,d,f,g){this.value=c,this.pos=d,this.size=f,this.color=g}}(),b=function(){var c=function(d){this.langObj=d,this.langObj&&void 0===this.langObj.default_color&&(this.langObj.default_color="#24292e"),this.isMultilineComment=!1};return c.prototype.draw=function(d){for(var h,f=d.querySelectorAll("tbody td"),g=0;g<f.length;g++)if(h=f[g],-1!==h.id.indexOf("LC")){var j=this.lexer(h.innerText);h.innerHTML=this.paint(j,h.innerText)}},c.prototype.paint=function(d,f){if(0===d.length)return this.getSpan(f,this.langObj.default_color);for(var g="",h=0,j=0;h<f.length;)if(j<d.length&&h<d[j].pos)g+=this.getSpan(f.substring(h,d[j].pos),this.langObj.default_color),h=d[j].pos;else if(j===d.length)g+=this.getSpan(f.substring(h,f.length),this.langObj.default_color),h=f.length;else{var k=d[j].color;g+=this.openSpan(k),g+=d[j].value,h+=d[j].value.length,j++;for(var m=!0,n=!0;m||n;)for(k===this.langObj.default_color&&j<d.length&&h<d[j].pos?(g+=f.substring(h,d[j].pos),h=d[j].pos,m=!0):m=!1,j<d.length&&h===d[j].pos&&d[j].color===k?(g+=d[j].value,h+=d[j].value.length,j++,n=!0):n=!1;" "===f[h];)g+=" ",h++;g+=this.closeSpan()}return g},c.prototype.openSpan=function(d){return"<span style=\"color:"+d+";\">"},c.prototype.closeSpan=function(){return"</span>"},c.prototype.getSpan=function(d,f){return this.openSpan(f)+d+this.closeSpan()},c.prototype.isId=function(d,f){return"a"<=d&&"z">=d||"A"<=d&&"Z">=d||"_"===d||!f&&this.isNumber(d)},c.prototype.isNumber=function(d){return"0"<=d&&"9">=d},c.prototype.isLiteralString=function(d){return"\""===d||"'"===d},c.prototype.startsWith=function(d,f,g){return void 0!==d&&f.substring(g,f.length).startsWith(d)},c.prototype.matchRegex=function(d,f,g,h){d.startsWith("^")||(d="^"+d),void 0===f&&(f="");var j=new RegExp(d,f);return g.substring(h,g.length).match(j)},c.prototype.getId=function(d,f,g){var h=f,j=d[f];for(f++;f<d.length&&this.isId(d[f],!1);)j+=d[f],f++;g(j,h,this.langObj)},c.prototype.getNumber=function(d,f,g){var h=f,j=d[f];f++;var k=this.getNextInt(d,f);j+=k.value,f=k.idx,f+1<d.length&&"."===d[f]&&this.isNumber(d[f+1])&&(j+=d[f],j+=d[f+1],f+=2,k=this.getNextInt(d,f),j+=k.value,f=k.idx),f<d.length&&"e"===d[f]&&(f+1<d.length&&this.isNumber(d[f+1])?(j+=d[f],j+=d[f+1],f+=2,k=this.getNextInt(d,f),j+=k.value,f=k.idx):f+2<d.length&&("+"===d[f+1]||"-"===d[f+1])&&this.isNumber(d[f+2])&&(j+=d[f],j+=d[f+1],j+=d[f+2],f+=3,k=this.getNextInt(d,f),j+=k.value,f=k.idx)),g(j,h,this.langObj)},c.prototype.getNextInt=function(d,f){for(var g="";f<d.length&&this.isNumber(d[f]);)g+=d[f],f++;return{value:g,idx:f}},c.prototype.getLiteralString=function(d,f,g){for(var h=f,j=d[f++];f<d.length&&d[f]!==d[h];)j+=d[f++];return!!d[f]&&void(j+=d[f],g(j,h,this.langObj))},c.prototype.getMultilineComment=function(d,f,g,h){for(var j=g,k=!0,m="";g<f.length&&!f.substring(g,f.length).startsWith(d);)m+=f[g],g++;g<f.length&&(m+=d,k=!1),h(m,j,k,this)},c.prototype.lexer=function(d){for(var f=void 0===this.langObj.comment?void 0:this.langObj.comment.begin_multiline,g=void 0===this.langObj.comment?void 0:this.langObj.comment.end_multiline,h=void 0===this.langObj.comment?void 0:this.langObj.comment.single_line,j=[],k=0;k<d.length;)if(" "===d[k]||"\t"===d[k]||"\n"===d[k]){k++;continue}else if(this.isMultilineComment||this.startsWith(f,d,k))this.isMultilineComment=!0,this.getMultilineComment(g,d,k,function(q,r,s,t){t.isMultilineComment=s;var u=t.langObj.default_color;void 0!==t.langObj.comment_color&&(u=t.langObj.comment_color),j.push(new a(q,r,q.length,u)),k+=q.length});else if(this.startsWith(h,d,k)){var m=d.substring(k,d.length),n=this.langObj.default_color;void 0!==this.langObj.comment_color&&(n=this.langObj.comment_color),j.push(new a(m,k,m.length,n)),k+=m.length}else if(this.isId(d[k],!0))this.getId(d,k,function(q,r,s){var t=s.default_color,u=!0;s.grammar.every(function(v){return void 0!==v.keywords&&v.keywords.every(function(w){return w.valueOf()!==q.valueOf()||(t=v.color,u=!1,!1)}),u}),u&&void 0!==s.id_color&&(t=s.id_color),j.push(new a(q,r,q.length,t)),k+=q.length});else if(this.isLiteralString(d[k])&&this.getLiteralString(d,k,function(q,r,s){var t=s.default_color;void 0!==s.string_color&&(t=s.string_color),j.push(new a(q,r,q.length,t)),k+=q.length}));else if(this.isNumber(d[k]))this.getNumber(d,k,function(q,r,s){var t=s.default_color;void 0!==s.number_color&&(t=s.number_color),j.push(new a(q,r,q.length,t)),k+=q.length});else{var o=!0,p=this;this.langObj.grammar.every(function(q){return void 0!==q.operators&&q.operators.every(function(r){return!p.startsWith(r,d,k)||(j.push(new a(r,k,r.length,q.color)),k+=r.length,o=!1,!1)}),o&&void 0!==q.regexes&&q.regexes.every(function(r){var s=p.matchRegex(r.regex,r.modifier,d,k);return null===s||(j.push(new a(s[0],k,s[0].length,q.color)),k+=s[0].length,o=!1,!1)}),o}),o&&k++}return j},c}();return{Highlighter:b,Token:a}}();exports.LinguistHighlighter=LinguistHighlighter;
